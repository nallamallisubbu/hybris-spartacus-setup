{"version":3,"file":"site-context-routes-handler.d.ts","sources":["site-context-routes-handler.d.ts"],"names":[],"mappings":"AAAA;AACA;AACA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA","sourcesContent":["import { Injector, OnDestroy } from '@angular/core';\r\nimport { SiteContextParamsService } from './site-context-params.service';\r\nimport { SiteContextUrlSerializer } from './site-context-url-serializer';\r\nexport declare class SiteContextRoutesHandler implements OnDestroy {\r\n    private siteContextParams;\r\n    private serializer;\r\n    private injector;\r\n    constructor(siteContextParams: SiteContextParamsService, serializer: SiteContextUrlSerializer, injector: Injector);\r\n    private subscription;\r\n    private contextValues;\r\n    private router;\r\n    private location;\r\n    /**\r\n     * Tells whether there is a pending navigation at the moment, so we can avoid an infinite loop caused by the cyclic dependency:\r\n     * - `subscribeChanges` method triggers a navigation on update of site context state\r\n     * - `subscribeRouting` method updates the site context state on navigation\r\n     */\r\n    private isNavigating;\r\n    /**\r\n     * Initializes the two-way synchronization between the site context state and the URL.\r\n     *\r\n     * @returns Promise that is resolved when the site context state is initialized (updated for the first time) based on the URL.\r\n     */\r\n    init(): Promise<void>;\r\n    /**\r\n     * After each change of the site context state, it modifies the current URL in place.\r\n     * But it happens only for the parameters configured to be persisted in the URL.\r\n     */\r\n    private subscribeChanges;\r\n    /**\r\n     * After each Angular NavigationStart event it updates the site context state based on\r\n     * site context params encoded in the anticipated URL.\r\n     *\r\n     * In particular, it's responsible for initializing the state of the context params\r\n     * on page start, reading the values from the URL.\r\n     *\r\n     * @param onContextInitialized notify that the initialization of the context was done based on the URL\r\n     */\r\n    private subscribeRouting;\r\n    /**\r\n     * Updates the site context state based on the context params encoded in the given URL\r\n     *\r\n     * @param url URL with encoded context params\r\n     */\r\n    private setContextParamsFromRoute;\r\n    ngOnDestroy(): void;\r\n}\r\n"]}
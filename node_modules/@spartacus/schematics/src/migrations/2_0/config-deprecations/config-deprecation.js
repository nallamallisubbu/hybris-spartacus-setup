"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const file_utils_1 = require("../../../shared/utils/file-utils");
const workspace_utils_1 = require("../../../shared/utils/workspace-utils");
const config_deprecation_data_1 = require("./config-deprecation-data");
function migrate() {
    return (tree, _context) => {
        const project = workspace_utils_1.getSourceRoot(tree);
        const sourceFiles = file_utils_1.getAllTsSourceFiles(tree, project);
        for (const source of sourceFiles) {
            const sourcePath = source.fileName;
            for (const configDeprecation of config_deprecation_data_1.CONFIG_DEPRECATION_DATA) {
                const changes = file_utils_1.insertCommentAboveConfigProperty(sourcePath, source, configDeprecation.propertyName, configDeprecation.comment);
                file_utils_1.commitChanges(tree, sourcePath, changes, file_utils_1.InsertDirection.RIGHT);
            }
        }
        return tree;
    };
}
exports.migrate = migrate;
//# sourceMappingURL=config-deprecation.js.map